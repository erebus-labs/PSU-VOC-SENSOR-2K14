C51 COMPILER V9.51   UTILITY                                                               05/01/2014 23:42:19 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE UTILITY
OBJECT MODULE PLACED IN .\DP8051\DP8051_Keil_951\Debug\Utility.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Cypress\PSoC Creator\3.0\PSoC Creator\import\keil\pk51\9.51\C51\BIN\c51.exe 
                    -.\Utility.c NOIV LARGE MODDP2 OMF2 VB(1) PR(.\DP8051\DP8051_Keil_951\Debug\Utility.lst) CD DB NOIP OT(0,SIZE) DF(DEBUG) 
                    -INCDIR(.,.\Generated_Source\PSoC3) OJ(.\DP8051\DP8051_Keil_951\Debug\Utility.obj)

line level    source

   1          /* ========================================
   2           *
   3           * Copyright YOUR COMPANY, THE YEAR
   4           * All Rights Reserved
   5           * UNPUBLISHED, LICENSED SOFTWARE.
   6           *
   7           * CONFIDENTIAL AND PROPRIETARY INFORMATION
   8           * WHICH IS THE PROPERTY OF your company.
   9           *
  10           * ========================================
  11          */
  12          
  13          #include "Utility.h"
  14          
  15          void hard_reset(){
  16   1          
  17   1          uint8 reset_flag = 0x00;
  18   1          
  19   1          /*  
  20   1          
  21   1          resetting data pointers needs to happen here
  22   1          
  23   1          */
  24   1          
  25   1          
  26   1          // End by clearing reset flag and reset again
  27   1          
  28   1          Em_EEPROM_Write(&reset_flag, &hard_reset_flag, 1u);
  29   1          CySoftwareReset();
  30   1          
  31   1          return;
  32   1      }
  33          
  34          
  35          /* [] END OF FILE */
C51 COMPILER V9.51   UTILITY                                                               05/01/2014 23:42:19 PAGE 2   

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION hard_reset (BEGIN)
                                           ; SOURCE LINE # 15
                                           ; SOURCE LINE # 17
0000 900000      R     MOV     DPTR,#reset_flag
0003 E4                CLR     A
0004 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 28
0005 7B01              MOV     R3,#01H
0007 7A00        R     MOV     R2,#HIGH reset_flag
0009 7900        R     MOV     R1,#LOW reset_flag
000B C003              PUSH    AR3
000D C002              PUSH    AR2
000F C001              PUSH    AR1
0011 7BFF              MOV     R3,#0FFH
0013 7A00        E     MOV     R2,#HIGH hard_reset_flag
0015 7900        E     MOV     R1,#LOW hard_reset_flag
0017 900000      E     MOV     DPTR,#?_Em_EEPROM_Write?BYTE+03H
001A 120000      E     LCALL   ?C?PSTXDATA
001D 900000      E     MOV     DPTR,#?_Em_EEPROM_Write?BYTE+06H
0020 E4                CLR     A
0021 F0                MOVX    @DPTR,A
0022 A3                INC     DPTR
0023 7401              MOV     A,#01H
0025 F0                MOVX    @DPTR,A
0026 D001              POP     AR1
0028 D002              POP     AR2
002A D003              POP     AR3
002C 120000      E     LCALL   _Em_EEPROM_Write
                                           ; SOURCE LINE # 29
002F 120000      E     LCALL   CySoftwareReset
                                           ; SOURCE LINE # 32
0032         ?C0001:
0032 22                RET     
             ; FUNCTION hard_reset (END)



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     51    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      1    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
